server:
  headers:
    Access-Control-Allow-Origin: "*"
Logging:
    Main:
        Level: trace
cache:
  name: memory
datastores:
  - name: postgresql
    id: vector-database-0
    host: localhost
    user: postgres
    password: password
    database: postgres

layers:
  - id: zcta5
    provider:
      name: postgismvt
      datastore: vector-database-0
      table: tiger_data.county_all
      gid: gid
      geometry: the_geom
      attributes: 
        - "name"
      sourcesrid: 4269
  - id: counties_by_year
    pattern: counties_{year}
    paramValidator:
      "year": "^[0-9]{4}$"
    provider:
      name: postgismvt
      datastore: vector-database-0
      table: public.histcounties
      gid: id_num
      geometry: geom
      extent: 256
      buffer: 0.01
      # attributes: 
      #   - "full_name"
      filter: "to_date({layer.year}, 'yyyy') BETWEEN start_date AND end_date"
      sourcesrid: 4326